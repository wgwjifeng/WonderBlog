(function($){jQuery.fn.superbgimage=function(a){var b=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options,a);$.superbg_inAnimation=false;$.superbg_slideshowActive=false;$.superbg_imgIndex=1;$.superbg_imgActual=1;$.superbg_imgLast=-1;$.superbg_imgSlide=0;$.superbg_interval=0;$.superbg_preload=0;$.superbg_direction=0;$.superbg_max_randomtrans=7;$.superbg_lasttrans=-1;$.superbg_isIE6=false;$.superbg_firstLoaded=false;$.superbg_saveId=$(this).attr('id');if($('#'+b.id).length===0){$('body').prepend('<div id="'+b.id+'" style="display:none;"></div>')}else{$('body').prepend($('#'+b.id))}$('#'+b.id).css('display','none').css('overflow','hidden').css('z-index',b.z_index);if(b.inlineMode===0){$('#'+b.id).css('position','fixed').css('width','100%').css('height','100%').css('top',0).css('left',0)}if(b.reload){$('#'+b.id+' img').remove()}$('#'+b.id+' img').hide().css('position','absolute');$('#'+b.id).children('img').each(function(){$(this).attr('rel',$.superbg_imgIndex++);if(!b.showtitle){$(this).attr('title','')}});$(this).children('a').each(function(){$(this).attr('rel',$.superbg_imgIndex++).click(function(){$(this).superbgShowImage();return false}).addClass('preload')});$.superbg_imgIndex--;$(window).bind('load',function(){$(this).superbgLoad()});$(window).bind('resize',function(){$(this).superbgResize()});$.superbg_isIE6=/msie|MSIE 6/.test(navigator.userAgent);if($.superbg_isIE6&&(b.inlineMode===0)){$('#'+b.id).css('position','absolute').width($(window).width()).height($(window).height());$(window).bind('scroll',function(){$(this).superbgScrollIE6()})}if(b.reload){$(this).superbgLoad()}return this};jQuery.fn.superbgScrollIE6=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);$('#'+a.id).css('top',document.documentElement.scrollTop+'px')};jQuery.fn.superbgLoad=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);if(($('#'+a.id).children('img').length>0)||($('#'+$.superbg_saveId).children('a').length>0)){$('#'+a.id).show()}if((typeof a.showimage!='undefined')&&(a.showimage>=0)){$.superbg_imgActual=a.showimage}if(a.randomimage===1){$.superbg_imgActual=(1+parseInt(Math.random()*($.superbg_imgIndex-1+1),10))}$(this).superbgShowImage($.superbg_imgActual)};jQuery.fn.superbgimagePreload=function(){var d=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);clearInterval($.superbg_preload);if(!$.superbg_firstLoaded&&($('#'+$.superbg_saveId).children('a').length>0)){$.superbg_preload=setInterval("$(this).superbgimagePreload()",111);return}$('#'+$.superbg_saveId).children('a.preload:first').each(function(){var a=$(this).attr('rel');var b=$(this).attr('title');var c=new Image();$(c).load(function(){$(this).css('position','absolute').hide();if($('#'+d.id).children('img'+"[rel='"+a+"']").length===0){$(this).attr('rel',a);if(d.showtitle===1){$(this).attr('title',b)}$('#'+d.id).prepend(this)}c.onload=function(){}}).error(function(){c.onerror=function(){}}).attr('src',$(this).attr('href'));$.superbg_preload=setInterval("$(this).superbgimagePreload()",111)}).removeClass('preload')};jQuery.fn.startSlideShow=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);$.superbg_imgSlide=$.superbg_imgActual;if($.superbg_interval!==0){clearInterval($.superbg_interval)}$.superbg_interval=setInterval("$(this).nextSlide()",a.slide_interval);$.superbg_slideshowActive=true;return false};jQuery.fn.stopSlideShow=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);clearInterval($.superbg_interval);$.superbg_slideshowActive=false;return false};jQuery.fn.nextSlide=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);if($.superbg_inAnimation)return false;if($.superbg_slideshowActive){clearInterval($.superbg_preload)}$.superbg_direction=0;$.superbg_imgSlide++;if($.superbg_imgSlide>$.superbg_imgIndex){$.superbg_imgSlide=1}if(a.randomimage===1){$.superbg_imgSlide=(1+parseInt(Math.random()*($.superbg_imgIndex-1+1),10));while($.superbg_imgSlide===$.superbg_imgLast){$.superbg_imgSlide=(1+parseInt(Math.random()*($.superbg_imgIndex-1+1),10))}}$.superbg_imgActual=$.superbg_imgSlide;return $(this).superbgShowImage($.superbg_imgActual)};jQuery.fn.prevSlide=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);if($.superbg_inAnimation)return false;$.superbg_direction=1;$.superbg_imgSlide--;if($.superbg_imgSlide<1){$.superbg_imgSlide=$.superbg_imgIndex}if(a.randomimage===1){$.superbg_imgSlide=(1+parseInt(Math.random()*($.superbg_imgIndex-1+1),10));while($.superbg_imgSlide===$.superbg_imgLast){$.superbg_imgSlide=(1+parseInt(Math.random()*($.superbg_imgIndex-1+1),10))}}$.superbg_imgActual=$.superbg_imgSlide;return $(this).superbgShowImage($.superbg_imgActual)};jQuery.fn.superbgResize=function(){var a=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);var b=$('#'+a.id+' img.activeslide');var c=$(this).superbgCalcSize($(b).width(),$(b).height());var d=c[0];var e=c[1];var f=c[2];var g=c[3];$(b).css('width',d+'px');$(b).css('height',e+'px');if($.superbg_isIE6&&(a.inlineMode===0)){$('#'+a.id).width(d).height(e);$(b).width(d);$(b).height(e)}$(b).css('left',f+'px');if(a.vertical_center===1){$(b).css('top',g+'px')}else{$(b).css('top','0px')}};jQuery.fn.superbgCalcSize=function(a,b){var c=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);var d=$(window).width();var e=$(window).height();if(c.inlineMode===1){d=$('#'+c.id).width();e=$('#'+c.id).height()}var f=b/a;var g=0;var h=0;if((e/d)>f){g=e;h=Math.round(e/f)}else{g=Math.round(d*f);h=d}var i=Math.round((d-h)/2);var j=Math.round((e-g)/2);var k=[h,g,i,j];return k};jQuery.fn.superbgShowImage=function(a){var b=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);$.superbg_imgActual=$(this).attr('rel');if(typeof a!=='undefined'){$.superbg_imgActual=a}if($('#'+b.id+' img.activeslide').attr('rel')===$.superbg_imgActual){return false}if($.superbg_inAnimation){return false}else{$.superbg_inAnimation=true}var c='';var d='';if($('#'+b.id).children('img'+"[rel='"+$.superbg_imgActual+"']").length===0){c=$('#'+$.superbg_saveId+' a'+"[rel='"+$.superbg_imgActual+"']").attr('href');d=$('#'+$.superbg_saveId+' a'+"[rel='"+$.superbg_imgActual+"']").attr('title')}else{c=$('#'+b.id).children('img'+"[rel='"+$.superbg_imgActual+"']").attr('src')}if((typeof b.onHide==='function')&&(b.onHide!==null)&&($.superbg_imgLast>=0)){b.onHide($.superbg_imgLast)}$('#'+b.id+' img.activeslide').superbgLoadImage(c,d);$('#'+$.superbg_saveId+' a').removeClass('activeslide');$('#'+$.superbg_saveId).children('a'+"[rel='"+$.superbg_imgActual+"']").addClass('activeslide');$.superbg_imgSlide=$.superbg_imgActual;$.superbg_imgLast=$.superbg_imgActual;return false};jQuery.fn.superbgLoadImage=function(c,d){var e=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);if($('#'+e.id).children('img'+"[rel='"+$.superbg_imgActual+"']").length===0){var f=new Image();$(f).load(function(){$(this).css('position','absolute').hide();if($('#'+e.id).children('img'+"[rel='"+$.superbg_imgActual+"']").length===0){$(this).attr('rel',$.superbg_imgActual);if(e.showtitle===1){$(this).attr('title',d)}$('#'+e.id).prepend(this)}var a=$('#'+e.id).children('img'+"[rel='"+$.superbg_imgActual+"']");var b=$(this).superbgCalcSize(f.width,f.height);$(this).superbgTransition(a,b);if(!$.superbg_firstLoaded){if(e.slideshow===1){$(this).startSlideShow()}if((e.preload===1)&&($('#'+$.superbg_saveId).children('a').length>0)){$.superbg_preload=setInterval("$(this).superbgimagePreload()",250)}}$.superbg_firstLoaded=true;f.onload=function(){}}).error(function(){$.superbg_inAnimation=false;f.onerror=function(){}}).attr('src',c)}else{var g=$('#'+e.id).children('img'+"[rel='"+$.superbg_imgActual+"']");var h=$(this).superbgCalcSize($(g).width(),$(g).height());$(this).superbgTransition(g,h);if(!$.superbg_firstLoaded){if(e.slideshow===1){$(this).startSlideShow()}if((e.preload===1)&&($('#'+$.superbg_saveId).children('a').length>0)){$.superbg_preload=setInterval("$(this).superbgimagePreload()",250)}$.superbg_firstLoaded=true}}};jQuery.fn.superbgTransition=function(a,b){var c=$.extend($.fn.superbgimage.defaults,$.fn.superbgimage.options);var d=b[0];var f=b[1];var g=b[2];var h=b[3];$(a).css('width',d+'px').css('height',f+'px').css('left',g+'px');if((typeof c.onClick==='function')&&(c.onClick!==null)){$(a).unbind('click').click(function(){c.onClick($.superbg_imgActual)})}if((typeof c.onMouseenter==='function')&&(c.onMouseenter!==null)){$(a).unbind('mouseenter').mouseenter(function(){c.onMouseenter($.superbg_imgActual)})}if((typeof c.onMouseleave==='function')&&(c.onMouseleave!==null)){$(a).unbind('mouseleave').mouseleave(function(){c.onMouseleave($.superbg_imgActual)})}if((typeof c.onMousemove==='function')&&(c.onMousemove!==null)){$(a).unbind('mousemove').mousemove(function(e){c.onMousemove($.superbg_imgActual,e)})}if(c.randomtransition===1){var i=(0+parseInt(Math.random()*($.superbg_max_randomtrans-0+1),10));while(i===$.superbg_lasttrans){i=(0+parseInt(Math.random()*($.superbg_max_randomtrans-0+1),10))}c.transition=i}if(c.vertical_center===1){$(a).css('top',h+'px')}else{$(a).css('top','0px')}var j=c.transitionout;if((c.transition===6)||(c.transition===7)){j=0}if(j===1){$('#'+c.id+' img.activeslide').removeClass('activeslide').addClass('lastslide').css('z-index',0)}else{$('#'+c.id+' img.activeslide').removeClass('activeslide').addClass('lastslideno').css('z-index',0)}$(a).css('z-index',1);c.transition=parseInt(c.transition,10);$.superbg_lasttrans=c.transition;var k='';var l='';if(c.transition===0){$(a).show(1,function(){if((typeof c.onShow==='function')&&(c.onShow!==null))c.onShow($.superbg_imgActual);$.superbg_inAnimation=false;if($.superbg_slideshowActive){$('#'+c.id).startSlideShow()}}).addClass('activeslide')}else if(c.transition===1){$(a).fadeIn(c.speed,function(){if((typeof c.onShow==='function')&&(c.onShow!==null))c.onShow($.superbg_imgActual);$('#'+c.id+' img.lastslideno').hide(1,null).removeClass('lastslideno');$.superbg_inAnimation=false;if($.superbg_slideshowActive){$('#'+c.id).startSlideShow()}}).addClass('activeslide')}else{if(c.transition===2){k='slide';l='up'}if(c.transition===3){k='slide';l='right'}if(c.transition===4){k='slide';l='down'}if(c.transition===5){k='slide';l='left'}if(c.transition===6){k='blind';l='horizontal'}if(c.transition===7){k='blind';l='vertical'}if(c.transition===90){k='slide';l='left';if($.superbg_direction===1){l='right'}}if(c.transition===91){k='slide';l='down';if($.superbg_direction===1){l='up'}}$(a).show(k,{direction:l},c.speed,function(){if((typeof c.onShow==='function')&&(c.onShow!==null))c.onShow($.superbg_imgActual);$('#'+c.id+' img.lastslideno').hide(1,null).removeClass('lastslideno');$.superbg_inAnimation=false;if($.superbg_slideshowActive){$('#'+c.id).startSlideShow()}}).addClass('activeslide')}if(j===1){var m=c.speed;if(c.speed=='slow'){m=600+200}else if(c.speed=='normal'){m=400+200}else if(c.speed=='fast'){m=400+200}else{m=c.speed+200}if(c.transition===0){$('#'+c.id+' img.lastslide').hide(1,null).removeClass('lastslide')}else if(c.transition==1){$('#'+c.id+' img.lastslide').fadeOut(m).removeClass('lastslide')}else{if(c.transition===2){k='slide';l='down'}if(c.transition===3){k='slide';l='left'}if(c.transition===4){k='slide';l='up'}if(c.transition===5){k='slide';l='right'}if(c.transition===6){k='';l=''}if(c.transition===7){k='';l=''}if(c.transition===90){k='slide';l='right';if($.superbg_direction===1){l='left'}}if(c.transition===91){k='slide';l='up';if($.superbg_direction===1){l='down'}}$('#'+c.id+' img.lastslide').hide(k,{direction:l},m).removeClass('lastslide')}}else{$('#'+c.id+' img.lastslide').hide(1,null).removeClass('lastslide')}};jQuery.fn.superbgimage.defaults={id:'superbgimage',z_index:0,inlineMode:0,showimage:1,vertical_center:1,transition:1,transitionout:1,randomtransition:0,showtitle:0,slideshow:0,slide_interval:5000,randomimage:0,speed:'slow',preload:1,onShow:null,onClick:null,onHide:null,onMouseenter:null,onMouseleave:null,onMousemove:null}})(jQuery);